#!/usr/bin/env ruby
require 'rubygems'
require 'translit'

if ARGV[0]
  direction = :russian
  if ARGV[0][0] == ':'
    direction = ARGV[0][1..].to_sym
    ARGV.shift
  end

  puts Translit.convert ARGV.join(' '), direction
else
  output = ""
  while input = STDIN.gets
    if input == ".\n"
      puts output
      break
    else
      output += Translit.convert input
    end
  end
end
